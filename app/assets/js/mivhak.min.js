/**
 * Package: Mivhak Syntax Highlighter
 * Version: 1.2.6
 * Date: 2015-07-28
 */
!function(a){function b(b,c){var d=this;this.config=a.extend({},this.defaults(),c),""!==this.config.auto_assign&&a(b).find(this.config.auto_assign).each(function(){a(this).addClass("prettyprint")}),a(".prettyprint").each(function(){d.prettify(this)})}a.fn.extend({mivhak:function(a){return this.each(function(){new b(this,a)})}}),b.prototype.prettify=function(b){if("CODE"!==b.tagName){var c=this.config,d=this.getLangs(b),e=ace.edit(b);0===d.length&&(d=[c.default_lang]),c.line_numbers||(e.renderer.setShowGutter(!1),e.getSession().on("changeScrollLeft",function(){e.getSession().setScrollLeft(0)})),a(b).wrap('<div class="ace-code-wrapper"></div>'),c.show_meta&&e.session.getLength()>=c.min_lines&&a(b).before(this.buildHeader(b,e)),ace.config.set("basePath","https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.9/"),e.setReadOnly(!0),e.setTheme("ace/theme/"+c.theme),e.getSession().setMode("ace/mode/"+d),e.getSession().setUseWorker(!1),e.setOptions({maxLines:1/0})}},b.prototype.defaults=function(){return{auto_assign:!1,show_meta:!1,line_numbers:!1,min_lines:2,theme:"twilight",default_lang:"text",lang_list:{}}},b.prototype.buttons=function(){return[{description:"Copy this code to clipboard","class":"mivhak-icon copy-icon",func:function(b,c){a(c).hasClass("active")?b.selection.clearSelection():(b.selection.selectAll(),b.focus()),a(c).toggleClass("active")}},{description:"Open this code in a new window","class":"mivhak-icon expand-icon",func:function(b){var c=window.open("","","width=500,height=330,resizable=1");b.selection.selectAll();var d=b.session.getTextRange(b.getSelectionRange());c.document.write("<pre>"+a("<div/>").text(d).html()+"</pre>"),b.selection.clearSelection()}},{description:"Wrap lines","class":"mivhak-icon wrap-icon",func:function(b,c){b.getSession().setUseWrapMode(a(c).hasClass("active")?!1:!0),a(c).toggleClass("active")}}]},b.prototype.buildHeader=function(b,c){var d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=this.getLangs(b);if(d.className="meta",e.className="text",f.className="control",g.className="lang",0!==h.length){for(var i=0;i<h.length;i++)h[i]=this.config.lang_list[h[i]];a(g).html(h.join(", ")),a(d).append(g)}return a(f).append(this.generateButtons(c)),a(e).html(c.session.getLength()+" Lines"),a(d).append(e,f),d},b.prototype.generateButtons=function(b){var c=[];return a.each(this.buttons(),function(){var d=document.createElement("div"),e=document.createElement("i"),f=this.func;e.className=this.class,d.title=this.description,d.appendChild(e),a(d).click(function(){f(b,d)}),c.push(d)}),c},b.prototype.getLangs=function(a){var b=a.className.match(/lang-([^ ])+/g),c=[];if(null===b)return[];for(var d=0;d<b.length;d++)c.push(b[d].split("-")[1]);return c},a(document).mivhak(mivhak_settings)}(window.jQuery);